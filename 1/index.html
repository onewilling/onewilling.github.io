<!DOCTYPE html>
<html>
<head>
  <title>CS180 Portfolio Report</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    h1, h2 {
      color: #333;
    }
    p {
      margin-bottom: 15px;
    }
    .section {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <h1>CS180 Portfolio Report</h1>
  
  <div class="section">
    <h2>Goal</h2>
    <p>The goal of this project is to take digitized Prokudin-Gorskii glass plate images and, using image processing techniques, automatically produce a color image with minimal visual artifacts.</p>
  </div>
  
  <div class="section">
    <h2>Implementation</h2>
    
    <h3>Alignment by RGB</h3>
    <p>To align the image channels by RGB similarity, I exhaustively search over a window of possible displacements (specified in the appendix), score each displacement using an image matching metric, and select the displacement with the best score.</p>
    <p><strong>Why Euclidean Distance?</strong> I implemented both Euclidean Distance and Normalized Cross-Correlation. The results indicate that Euclidean Distance performs better in this context.</p>
    
    <h3>Pyramid Speedup</h3>
    <p>An image pyramid represents the image at multiple scales, typically scaled by a factor of 2. Processing is performed sequentially, starting from the coarsest scale and moving to finer scales, updating the estimate at each level. I used a recursive call to my original single-scale implementation. However, larger levels result in increased blur and information loss, so I opted for a smaller pyramid level.</p>
  </div>
  
  <div class="section">
    <h2>Extras</h2>
    
    <h3>Automatic Cropping by Dynamic Margin</h3>
    <p><strong>Why Not Variance?</strong> Initially, I calculated the variance of each row and column to crop borders of white, black, or other colors. However, this method did not yield satisfactory results, as a single threshold was not applicable to all images.</p>
    <p><strong>Why Dynamic Margin?</strong> Given that the images are of similar size (taken with the same photographic equipment), I chose to use two margin factors and crop the borders dynamically.</p>
    
    <h3>Automatic Contrast Adjustment</h3>
    <p>The darkest pixel is treated as zero, and the brightest pixel as one. I then linearly map the image, resulting in visually pleasing results.</p>
    
    <h3>Automatic White Balance</h3>
    <p>White balance involves adjusting the average color in each channel to grey, and the average color in the whole image to neutral grey. However, since the images are light-balanced, adjusting the average color to grey resulted in a greyer overall image.</p>
    <p><strong>I Did Not Apply White Balance</strong></p>
    
    <h3>Green Base</h3>
    <p><strong>Why Blue Base?</strong> Given the blurriness of the images, I explored other methods to enhance image quality. I came across the awarded homework by Saurav Mittal, which suggested "Base Channel Selection." Based on this, I initially chose green as the base channel.</p>
    <p><strong>Why Green?</strong> Saurav Mittal explained that green provided consistently good results for all images. However, I sought a more comprehensive explanation and found a biochemical rationale: the human eye is most sensitive to green light (555 nanometers) and less sensitive to blue light due to scattering and absorption in the crystalline lens.</p>
    <p>(Contributing Authors: Kenneth R. Spring – Scientific Consultant, Lusby, Maryland, 20657. Thomas J. Fellers and Michael W. Davidson – National High Magnetic Field Laboratory, 1800 East Paul Dirac Dr., The Florida State University, Tallahassee, Florida, 32310.)</p>
    <p><a href="https://www.olympus-lifescience.com/en/microscope-resource/primer/lightandcolor/humanvisionintro/">The Physics of Light and Color - Human Vision and Color Perception | Olympus LS</a></p>
    
    <h3>Alignment by Gradient</h3>
    <p><strong>Why RGB-Based Alignment?</strong> Some dazzling strips remain, which suggests that the alignment method may be at fault. RGB-based alignment is sensitive to both color and light. Given that the project website offers gradient-based and edge-based methods, I chose the gradient-based method due to familiarity with the relevant mathematics.</p>
  </div>
</body>
</html>
